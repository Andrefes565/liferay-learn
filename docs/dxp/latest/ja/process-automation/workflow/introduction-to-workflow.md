# ワークフローの概要

Liferay DXPには、ユーザーがブログ、Webコンテンツ、Wikiなどのコンテンツを公開する前に確認および承認できるワークフローエンジンが付属しています。 ワークフローアプリケーションを使用すると、任意の数のビジネスプロセス/ワークフローを定義し、それらをデプロイして、ポータルインターフェイスを介して管理できます。 ワークフロープロセスは`XML`形式で記述されており、いくつかのサンプルのワークフロープロセスを参照できます。 最後に、ワークフロープロセスは、レビュー担当者および承認者としてのユーザー、グループ、およびロールと統合できます。 レビュープロセスを定義したら、公開前にレビュープロセスが必要なコンテンツのタイプを選択できます。

<a name="activating-workflow" />

## ワークフローのアクティブ化

特定のアセットに対してワークフローがアクティブ化されると、 ［**公開**］ ボタンが ［**公開申請**］ ボタンに置き換わり、即時公開ではなく、アセットのステータスが ［**保留中**］ に設定されます。 公開するにはワークフローを進める必要があります。

![［公開］ボタンの代わりに、ワークフローが有効なリソースに対して［公開申請］ボタンが表示されます。](./introduction-to-workflow/images/01.png)

既定のワークフロープロセスは、 **唯一の承認者** と呼ばれます。このプロセスでは、公開前に提出物を確認および承認する人が1名必要です。

詳細は、 [ワークフローのアクティブ化](./using-workflows/activating-workflow.md) および[レビューでアセットを送信する](./using-workflows/reviewing-assets.md) を参照してください。

<a name="building-a-workflow" />

## ワークフローの構築

ワークフローを使用すると、ユーザーは複数のレビュー担当者と承認者が設定されたより複雑なワークフローを構築できます。 効果的なワークフローを構築する方法を学習しましょう。

* [XMLでのレビュープロセスの作成](./developer-guide/crafting-xml-workflow-definitions.md)
* [レビュープロセスの視覚的設計](./designing-and-managing-workflows/workflow-designer/workflow-designer-overview.md) （サブスクライバー）
* [ワークフロー定義のアップロード](./designing-and-managing-workflows/managing-workflows.md#uploading-a-new-workflow-definitions)
* [ワークフロー定義の管理](./designing-and-managing-workflows/managing-workflows.md)

独自のワークフローの構築を開始するには、 [ワークフローの構築](./designing-and-managing-workflows/building-workflows.md) を参照してください。

### ワークフローメトリクスを使用したSLAの実装

> サブスクリプション

**メトリクス** 関数を使用して、ワークフロープロセスのサービスレベルアグリーメント（SLA）のパフォーマンスを測定できます。 SLAは、ワークフロープロセスのイベントの期限を定義します。 期限は顧客との間で正式に合意したり、次のようなイベントを追跡して社内目標を達成するために非公式に作成することもできます。

* 解決までの合計時間
* 特定のワークフロータスクを完了する時間

SLAが設定されると、SLAタイマーをトリガーするワークフローの送信がワークフローメトリクスフレームワークによって自動的に報告され、 ［**予定通り**］ または ［**期限切れ**］ のステータスが付けられます。

![SLAに基づいて生成されたワークフローレポートを参照してください。](./introduction-to-workflow/images/02.png)

SLAをワークフローに追加する方法については、 [ワークフローメトリクスの使用](./using-workflows/using-workflow-metrics.md) の記事を参照してください。

<a name="understanding-workflow-status" />

## ワークフローステータスを理解する

ワークフロープロセスのアセットは、常にステータスを持っています。 このステータスは、アセットをエンドユーザーに表示できるかどうかなどの重要な判断材料として使用されます。 多くのステータスがありますが、その中でも特に一般的で理解すべき重要なものをここで説明します。

- **下書き** ステータスは、ワークフローでのレビューまたはエンドユーザーによる表示の準備ができる前に保存できるコンテンツに割り当てられます。
- **保留中** ステータスは、そのアセットがまだ完了していないワークフロープロセスにあることを示します。
- **承認済み** ステータスは、アセットを表示する権限を持つすべてのユーザーがUIに表示できる状態であることを意味します。
- **拒否** ステータスは、ワークフローを通過できなかったアセットのためのものです。 このステータスを利用して、アセットのオリジナル提出者に通知を行い、コンテンツの修正と再提出を促すことができます。

![コンテンツは、ワークフローのステータスを持つことができます。](./introduction-to-workflow/images/03.png)

ソースコードの [WorkflowConstantsクラス](https://github.com/liferay/liferay-portal/blob/[$LIFERAY_LEARN_PORTAL_GIT_TAG$]/portal-kernel/src/com/liferay/portal/kernel/workflow/WorkflowConstants.java) を参照して、利用可能なすべてのステータスを確認してください。

### バージョン管理されたアセットは複数のステータスを持つことができます

バージョン管理したアセットには、2つのステータスがあります。

![バージョン管理されたアセットには、2つのステータスがあります。](./introduction-to-workflow/images/04.png)

ほとんどのアセットでは、デフォルトで承認済みの最新バージョンが表示されます。 すでに承認されているアセットが更新された場合、新しいバージョンが作成され、ワークフローで送信されます。 新しいバージョンがワークフローでまだ承認されていない間、アセットの2番目のステータスが表示されます（例： **保留中**）。 最後に承認されたバージョンは、新しいバージョンが承認されるまで継続して使用されます。

<a name="whats-next" />

## 次のステップ

* [ワークフローのアクティブ化](./using-workflows/activating-workflow.md)
* [ワークフローの管理](./designing-and-managing-workflows/managing-workflows.md)
* [ワークフローデザイナーの概要](./designing-and-managing-workflows/workflow-designer/workflow-designer-overview.md)
